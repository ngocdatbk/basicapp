<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="language" content="en" />
        <link href="./assets/ef25ba5/css/bootstrap.css" rel="stylesheet">
<link href="./assets/d6a501f7/solarized_light.css" rel="stylesheet">
<link href="./assets/66a7d106/style.css" rel="stylesheet">
<script src="./assets/bc3f95e6/jquery.js"></script>
<script src="./assets/ef25ba5/js/bootstrap.js"></script>
<script src="./assets/e4cd224c/jssearch.js"></script>    <title>The Definitive Guide to Yii 2.0</title>
</head>
<body>

<div class="wrap">
    <nav id="w286" class="navbar-inverse navbar-fixed-top navbar"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#w286-collapse"><span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span></button><a class="navbar-brand" href="./guide-index.html">The Definitive Guide to Yii 2.0</a></div><div id="w286-collapse" class="collapse navbar-collapse"><ul id="w287" class="navbar-nav nav"><li><a href="./guide-README.html">Guide</a></li></ul><div class="navbar-form navbar-left" role="search">
  <div class="form-group">
    <input id="searchbox" type="text" class="form-control" placeholder="Search">
  </div>
</div>
</div></nav>
    <div id="search-resultbox" style="display: none;" class="modal-content">
        <ul id="search-results">
        </ul>
    </div>

    
<div class="row">
    <div class="col-md-2">
                <div id="navigation" class="list-group"><a class="list-group-item" href="#navigation-270" data-toggle="collapse" data-parent="#navigation">REQUIREMENTS <b class="caret"></b></a><div id="navigation-270" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-271" data-toggle="collapse" data-parent="#navigation">INSTALLATION <b class="caret"></b></a><div id="navigation-271" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-272" data-toggle="collapse" data-parent="#navigation">Install via Composer <b class="caret"></b></a><div id="navigation-272" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-273" data-toggle="collapse" data-parent="#navigation">Install from an Archive File <b class="caret"></b></a><div id="navigation-273" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-274" data-toggle="collapse" data-parent="#navigation">Install with Docker <b class="caret"></b></a><div id="navigation-274" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-275" data-toggle="collapse" data-parent="#navigation">CONFIGURATION <b class="caret"></b></a><div id="navigation-275" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-276" data-toggle="collapse" data-parent="#navigation">Database <b class="caret"></b></a><div id="navigation-276" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-277" data-toggle="collapse" data-parent="#navigation">TESTING <b class="caret"></b></a><div id="navigation-277" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-278" data-toggle="collapse" data-parent="#navigation">Running  acceptance tests <b class="caret"></b></a><div id="navigation-278" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-279" data-toggle="collapse" data-parent="#navigation">run all available tests <b class="caret"></b></a><div id="navigation-279" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-280" data-toggle="collapse" data-parent="#navigation">run acceptance tests <b class="caret"></b></a><div id="navigation-280" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-281" data-toggle="collapse" data-parent="#navigation">run only unit and functional tests <b class="caret"></b></a><div id="navigation-281" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-282" data-toggle="collapse" data-parent="#navigation">Code coverage support <b class="caret"></b></a><div id="navigation-282" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-283" data-toggle="collapse" data-parent="#navigation">collect coverage for all tests <b class="caret"></b></a><div id="navigation-283" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-284" data-toggle="collapse" data-parent="#navigation">collect coverage only for unit tests <b class="caret"></b></a><div id="navigation-284" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-285" data-toggle="collapse" data-parent="#navigation">collect coverage for unit and functional tests <b class="caret"></b></a><div id="navigation-285" class="submenu panel-collapse collapse"></div></div>    </div>
    <div class="col-md-9 guide-content" role="main">
        <h1>Android support <span id="android-support"></span><a href="#android-support" class="hashlink">&para;</a></h1>
<div class="toc"><ol><li><a href="#update-18012017">Update 18/01/2017</a></li>
<li><a href="#the-workaround-the-patchwork-the-bad-and-ugly">The workaround, the patchwork, the bad and ugly ;-)</a></li>
<li><a href="#reporting-android-related-issues">Reporting android related issues</a></li></ol></div>
<p>Have a read thought the different android issues. (Android Information #465)</p>
<p>Bottomline, the problem is the predictive text functionality.  There is no way to prevent or control the input, which gives undesired results
and side effects in the inputmask.  I tried several ways multiple times.  Compositionevents, inputevent only masking, all with partial success.
The behavior also changes with the keyboard used. (google keyboard, samsung keyboard, ...)</p>
<p>In general, masks which only accepts numeric input tend to work even with predictive text enabled.  Inputmasks with alphanumeric input will all fail.</p>
<p>The solution would be a way to control (or hint) the predictive text or to disable it.
When browsers would implement the inputmode attribute, disabling will be possible.
<a href="https://html.spec.whatwg.org/multipage/forms.html#input-modalities:-the-inputmode-attribute">Inputmode html spec</a>
<a href="https://www.chromestatus.com/feature/6225984592281600">Inputmode chromestatus</a></p>
<h2>Update 18/01/2017 <span id="update-18012017"></span><a href="#update-18012017" class="hashlink">&para;</a></h2><p>It seems that the GBoard keyboard fires the keydown event only with 229 as keycode.  This behavior is not considered a bug as other means should be used to handle input.  (when available offcourse ;-) )
See <a href="https://github.com/w3c/input-events">https://github.com/w3c/input-events</a></p>
<h2>The workaround, the patchwork, the bad and ugly ;-) <span id="the-workaround-the-patchwork-the-bad-and-ugly"></span><a href="#the-workaround-the-patchwork-the-bad-and-ugly" class="hashlink">&para;</a></h2><p>This is not enabled by default, because I find that the developer should be aware of what it does and what you need to take into account when using this hack.</p>
<p>What it does.</p>
<ul>
<li>changes the input type to password =&gt; disabled predictive text</li>
<li>enables the colorMask option which creates a div which is positioned above the input.
So we type in the hidden password input and render the mask in the created div.
Be aware that by changing the type to password that all css you targeted for type=text will not be applied anymore.
You will need to adapt your css for it.  It is possible that the div is not well positioned.  If so, open an issue for it with a jsfiddle.</li>
</ul>
<p>To enable the workaround add the androidHack option to your individual masks or globally by setting defaults.
You should set the option to "rtfm".</p>
<pre><code class="hljs css"><span class="hljs-tag">Inputmask</span>("<span class="hljs-tag">myfancymask</span>", <span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">androidHack</span>:<span class="hljs-value"> <span class="hljs-string">"rtfm"</span></span></span></span>})<span class="hljs-class">.mask</span>(<span class="hljs-tag">selector</span>);

<span class="hljs-tag">Inputmask</span><span class="hljs-class">.extendDefaults</span>(<span class="hljs-rules">{ <span class="hljs-rule"><span class="hljs-attribute">androidHack</span>:<span class="hljs-value"> <span class="hljs-string">"rtfm"</span> </span></span></span>});
</code></pre>
<h2>Reporting android related issues <span id="reporting-android-related-issues"></span><a href="#reporting-android-related-issues" class="hashlink">&para;</a></h2><p>Before you submit an issue related to Android.  Test the issue with and without predictive text enabled.</p>
<p>If the issue also occurs with predictive text disabled you may create an issue for it on Github.
Otherwise, retry the issue on a desktop browser and add the colorMask: true option.
If the problem is still there you may submit an issue.</p>
<p>Always include a jsfiddle or alike to ease reproducing the problem.</p>
<p>When the issue only occurs due to predictive text I cannot solve it, until browsers start implementing the inputmode attribute on inputs.</p>
        <div class="toplink"><a href="#" class="h1" title="go to top"><span class="glyphicon glyphicon-arrow-up"></a></div>
    </div>
</div>


</div>

<footer class="footer">
        <p class="pull-right"><small>Page generated on Fri, 28 Dec 2018 10:27:55 +0100</small></p>
    Powered by <a href="http://www.yiiframework.com/" rel="external">Yii Framework</a></footer>

<script>jQuery(function ($) {
    var shiftWindow = function () { scrollBy(0, -50) };
    if (location.hash) setTimeout(shiftWindow, 1);
    window.addEventListener("hashchange", shiftWindow);
var element = document.createElement("script");
element.src = "./jssearch.index.js";
document.body.appendChild(element);

var searchBox = $('#searchbox');

// search when typing in search field
searchBox.on("keyup", function(event) {
    var query = $(this).val();

    if (query == '' || event.which == 27) {
        $('#search-resultbox').hide();
        return;
    } else if (event.which == 13) {
        var selectedLink = $('#search-resultbox a.selected');
        if (selectedLink.length != 0) {
            document.location = selectedLink.attr('href');
            return;
        }
    } else if (event.which == 38 || event.which == 40) {
        $('#search-resultbox').show();

        var selected = $('#search-resultbox a.selected');
        if (selected.length == 0) {
            $('#search-results').find('a').first().addClass('selected');
        } else {
            var next;
            if (event.which == 40) {
                next = selected.parent().next().find('a').first();
            } else {
                next = selected.parent().prev().find('a').first();
            }
            if (next.length != 0) {
                var resultbox = $('#search-results');
                var position = next.position();

//              TODO scrolling is buggy and jumps around
//                resultbox.scrollTop(Math.floor(position.top));
//                console.log(position.top);

                selected.removeClass('selected');
                next.addClass('selected');
            }
        }

        return;
    }
    $('#search-resultbox').show();
    $('#search-results').html('<li><span class="no-results">No results</span></li>');

    var result = jssearch.search(query);

    if (result.length > 0) {
        var i = 0;
        var resHtml = '';

        for (var key in result) {
            if (i++ > 20) {
                break;
            }
            resHtml = resHtml +
            '<li><a href="' + result[key].file.u.substr(3) +'"><span class="title">' + result[key].file.t + '</span>' +
            '<span class="description">' + result[key].file.d + '</span></a></li>';
        }
        $('#search-results').html(resHtml);
    }
});

// hide the search results on ESC
$(document).on("keyup", function(event) { if (event.which == 27) { $('#search-resultbox').hide(); } });
// hide search results on click to document
$(document).bind('click', function (e) { $('#search-resultbox').hide(); });
// except the following:
searchBox.bind('click', function(e) { e.stopPropagation(); });
$('#search-resultbox').bind('click', function(e) { e.stopPropagation(); });

});</script></body>
</html>
