<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="language" content="en" />
        <link href="./assets/ef25ba5/css/bootstrap.css" rel="stylesheet">
<link href="./assets/d6a501f7/solarized_light.css" rel="stylesheet">
<link href="./assets/66a7d106/style.css" rel="stylesheet">
<script src="./assets/bc3f95e6/jquery.js"></script>
<script src="./assets/ef25ba5/js/bootstrap.js"></script>
<script src="./assets/e4cd224c/jssearch.js"></script>    <title>The Definitive Guide to Yii 2.0</title>
</head>
<body>

<div class="wrap">
    <nav id="w6046" class="navbar-inverse navbar-fixed-top navbar"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#w6046-collapse"><span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span></button><a class="navbar-brand" href="./guide-index.html">The Definitive Guide to Yii 2.0</a></div><div id="w6046-collapse" class="collapse navbar-collapse"><ul id="w6047" class="navbar-nav nav"><li><a href="./guide-README.html">Guide</a></li></ul><div class="navbar-form navbar-left" role="search">
  <div class="form-group">
    <input id="searchbox" type="text" class="form-control" placeholder="Search">
  </div>
</div>
</div></nav>
    <div id="search-resultbox" style="display: none;" class="modal-content">
        <ul id="search-results">
        </ul>
    </div>

    
<div class="row">
    <div class="col-md-2">
                <div id="navigation" class="list-group"><a class="list-group-item" href="#navigation-6030" data-toggle="collapse" data-parent="#navigation">REQUIREMENTS <b class="caret"></b></a><div id="navigation-6030" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-6031" data-toggle="collapse" data-parent="#navigation">INSTALLATION <b class="caret"></b></a><div id="navigation-6031" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-6032" data-toggle="collapse" data-parent="#navigation">Install via Composer <b class="caret"></b></a><div id="navigation-6032" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-6033" data-toggle="collapse" data-parent="#navigation">Install from an Archive File <b class="caret"></b></a><div id="navigation-6033" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-6034" data-toggle="collapse" data-parent="#navigation">Install with Docker <b class="caret"></b></a><div id="navigation-6034" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-6035" data-toggle="collapse" data-parent="#navigation">CONFIGURATION <b class="caret"></b></a><div id="navigation-6035" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-6036" data-toggle="collapse" data-parent="#navigation">Database <b class="caret"></b></a><div id="navigation-6036" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-6037" data-toggle="collapse" data-parent="#navigation">TESTING <b class="caret"></b></a><div id="navigation-6037" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-6038" data-toggle="collapse" data-parent="#navigation">Running  acceptance tests <b class="caret"></b></a><div id="navigation-6038" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-6039" data-toggle="collapse" data-parent="#navigation">run all available tests <b class="caret"></b></a><div id="navigation-6039" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-6040" data-toggle="collapse" data-parent="#navigation">run acceptance tests <b class="caret"></b></a><div id="navigation-6040" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-6041" data-toggle="collapse" data-parent="#navigation">run only unit and functional tests <b class="caret"></b></a><div id="navigation-6041" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-6042" data-toggle="collapse" data-parent="#navigation">Code coverage support <b class="caret"></b></a><div id="navigation-6042" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-6043" data-toggle="collapse" data-parent="#navigation">collect coverage for all tests <b class="caret"></b></a><div id="navigation-6043" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-6044" data-toggle="collapse" data-parent="#navigation">collect coverage only for unit tests <b class="caret"></b></a><div id="navigation-6044" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-6045" data-toggle="collapse" data-parent="#navigation">collect coverage for unit and functional tests <b class="caret"></b></a><div id="navigation-6045" class="submenu panel-collapse collapse"></div></div>    </div>
    <div class="col-md-9 guide-content" role="main">
        <h1>Upgrading from PHP-Parser 0.9 to 1.0 <span id="upgrading-from-php-parser-09-to-10"></span><a href="#upgrading-from-php-parser-09-to-10" class="hashlink">&para;</a></h1><h3>PHP version requirements <span id="php-version-requirements"></span><a href="#php-version-requirements" class="hashlink">&para;</a></h3><p>PHP-Parser now requires PHP 5.3 or newer to run. It is however still possible to <em>parse</em> PHP 5.2 source code, while
running on a newer version.</p>
<h3>Move to namespaced names <span id="move-to-namespaced-names"></span><a href="#move-to-namespaced-names" class="hashlink">&para;</a></h3><p>The library has been moved to use namespaces with the <code>PhpParser</code> vendor prefix. However, the old names using
underscores are still available as aliases, as such most code should continue running on the new version without
further changes.</p>
<p>Old (still works, but discouraged):</p>
<pre><code class="hljs php language-php"><span class="hljs-variable">$parser</span> = <span class="hljs-keyword">new</span> \PHPParser_Parser(<span class="hljs-keyword">new</span> \PHPParser_Lexer_Emulative);
<span class="hljs-variable">$prettyPrinter</span> = <span class="hljs-keyword">new</span> \PHPParser_PrettyPrinter_Default;
</code></pre>
<p>New:</p>
<pre><code class="hljs php language-php"><span class="hljs-variable">$parser</span> = <span class="hljs-keyword">new</span> \PhpParser\Parser(<span class="hljs-keyword">new</span> PhpParser\Lexer\Emulative);
<span class="hljs-variable">$prettyPrinter</span> = <span class="hljs-keyword">new</span> \PhpParser\PrettyPrinter\Standard;
</code></pre>
<p>Note that the <code>PHPParser</code> prefix was changed to <code>PhpParser</code>. While PHP class names are technically case-insensitive,
the autoloader will not be able to load <code>PHPParser\Parser</code> or other case variants.</p>
<p>Due to conflicts with reserved keywords, some class names now end with an underscore, e.g. <code>PHPParser_Node_Stmt_Class</code>
is now <code>PhpParser\Node\Stmt\Class_</code>. (But as usual, the old name is still available.)</p>
<h3>Changes to <code>Node::getType()</code> <span id="changes-to-nodegettype"></span><a href="#changes-to-nodegettype" class="hashlink">&para;</a></h3><p>The <code>Node::getType()</code> method continues to return names using underscores instead of namespace separators and also does
not contain the trailing underscore that may be present in the class name. As such its output will not change in many
cases.</p>
<p>However, some node classes have been moved to a different namespace or renamed, which will result in a different
<code>Node::getType()</code> output:</p>
<pre><code class="hljs php">Expr_AssignBitwiseAnd =&gt; Expr_AssignOp_BitwiseAnd
Expr_AssignBitwiseOr  =&gt; Expr_AssignOp_BitwiseOr
Expr_AssignBitwiseXor =&gt; Expr_AssignOp_BitwiseXor
Expr_AssignConcat     =&gt; Expr_AssignOp_Concat
Expr_AssignDiv        =&gt; Expr_AssignOp_Div
Expr_AssignMinus      =&gt; Expr_AssignOp_Minus
Expr_AssignMod        =&gt; Expr_AssignOp_Mod
Expr_AssignMul        =&gt; Expr_AssignOp_Mul
Expr_AssignPlus       =&gt; Expr_AssignOp_Plus
Expr_AssignShiftLeft  =&gt; Expr_AssignOp_ShiftLeft
Expr_AssignShiftRight =&gt; Expr_AssignOp_ShiftRight

Expr_BitwiseAnd       =&gt; Expr_BinaryOp_BitwiseAnd
Expr_BitwiseOr        =&gt; Expr_BinaryOp_BitwiseOr
Expr_BitwiseXor       =&gt; Expr_BinaryOp_BitwiseXor
Expr_BooleanAnd       =&gt; Expr_BinaryOp_BooleanAnd
Expr_BooleanOr        =&gt; Expr_BinaryOp_BooleanOr
Expr_Concat           =&gt; Expr_BinaryOp_Concat
Expr_Div              =&gt; Expr_BinaryOp_Div
Expr_Equal            =&gt; Expr_BinaryOp_Equal
Expr_Greater          =&gt; Expr_BinaryOp_Greater
Expr_GreaterOrEqual   =&gt; Expr_BinaryOp_GreaterOrEqual
Expr_Identical        =&gt; Expr_BinaryOp_Identical
Expr_LogicalAnd       =&gt; Expr_BinaryOp_LogicalAnd
Expr_LogicalOr        =&gt; Expr_BinaryOp_LogicalOr
Expr_LogicalXor       =&gt; Expr_BinaryOp_LogicalXor
Expr_Minus            =&gt; Expr_BinaryOp_Minus
Expr_Mod              =&gt; Expr_BinaryOp_Mod
Expr_Mul              =&gt; Expr_BinaryOp_Mul
Expr_NotEqual         =&gt; Expr_BinaryOp_NotEqual
Expr_NotIdentical     =&gt; Expr_BinaryOp_NotIdentical
Expr_Plus             =&gt; Expr_BinaryOp_Plus
Expr_ShiftLeft        =&gt; Expr_BinaryOp_ShiftLeft
Expr_ShiftRight       =&gt; Expr_BinaryOp_ShiftRight
Expr_Smaller          =&gt; Expr_BinaryOp_Smaller
Expr_SmallerOrEqual   =&gt; Expr_BinaryOp_SmallerOrEqual

Scalar_ClassConst     =&gt; Scalar_MagicConst_Class
Scalar_DirConst       =&gt; Scalar_MagicConst_Dir
Scalar_FileConst      =&gt; Scalar_MagicConst_File
Scalar_FuncConst      =&gt; Scalar_MagicConst_Function
Scalar_LineConst      =&gt; Scalar_MagicConst_Line
Scalar_MethodConst    =&gt; Scalar_MagicConst_Method
Scalar_NSConst        =&gt; Scalar_MagicConst_Namespace
Scalar_TraitConst     =&gt; Scalar_MagicConst_Trait
</code></pre>
<p>These changes may affect custom pretty printers and code comparing the return value of <code>Node::getType()</code> to specific
strings.</p>
<h3>Miscellaneous <span id="miscellaneous"></span><a href="#miscellaneous" class="hashlink">&para;</a></h3><ul>
<li><p>The classes <code>Template</code> and <code>TemplateLoader</code> have been removed. You should use some other <a href="https://github.com/nikic/PHP-Parser/wiki/Projects-using-the-PHP-Parser#code-generation">code generation</a>
project built on top of PHP-Parser instead.</p>
</li>
<li><p>The <code>PrettyPrinterAbstract::pStmts()</code> method now emits a leading newline if the statement list is not empty.
Custom pretty printers should remove the explicit newline before <code>pStmts()</code> calls.</p>
<p>Old:</p>
<pre><code class="hljs php language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pStmt_Trait</span><span class="hljs-params">(PHPParser_Node_Stmt_Trait <span class="hljs-variable">$node</span>)</span> </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-string">'trait '</span> . <span class="hljs-variable">$node</span>-&gt;name
         . <span class="hljs-string">"\n"</span> . <span class="hljs-string">'{'</span> . <span class="hljs-string">"\n"</span> . <span class="hljs-variable">$this</span>-&gt;pStmts(<span class="hljs-variable">$node</span>-&gt;stmts) . <span class="hljs-string">"\n"</span> . <span class="hljs-string">'}'</span>;
}
</code></pre>
<p>New:</p>
<pre><code class="hljs php language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pStmt_Trait</span><span class="hljs-params">(Stmt\Trait_ <span class="hljs-variable">$node</span>)</span> </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-string">'trait '</span> . <span class="hljs-variable">$node</span>-&gt;name
         . <span class="hljs-string">"\n"</span> . <span class="hljs-string">'{'</span> . <span class="hljs-variable">$this</span>-&gt;pStmts(<span class="hljs-variable">$node</span>-&gt;stmts) . <span class="hljs-string">"\n"</span> . <span class="hljs-string">'}'</span>;
}
</code></pre>
</li>
</ul>
        <div class="toplink"><a href="#" class="h1" title="go to top"><span class="glyphicon glyphicon-arrow-up"></a></div>
    </div>
</div>


</div>

<footer class="footer">
        <p class="pull-right"><small>Page generated on Fri, 28 Dec 2018 10:28:02 +0100</small></p>
    Powered by <a href="http://www.yiiframework.com/" rel="external">Yii Framework</a></footer>

<script>jQuery(function ($) {
    var shiftWindow = function () { scrollBy(0, -50) };
    if (location.hash) setTimeout(shiftWindow, 1);
    window.addEventListener("hashchange", shiftWindow);
var element = document.createElement("script");
element.src = "./jssearch.index.js";
document.body.appendChild(element);

var searchBox = $('#searchbox');

// search when typing in search field
searchBox.on("keyup", function(event) {
    var query = $(this).val();

    if (query == '' || event.which == 27) {
        $('#search-resultbox').hide();
        return;
    } else if (event.which == 13) {
        var selectedLink = $('#search-resultbox a.selected');
        if (selectedLink.length != 0) {
            document.location = selectedLink.attr('href');
            return;
        }
    } else if (event.which == 38 || event.which == 40) {
        $('#search-resultbox').show();

        var selected = $('#search-resultbox a.selected');
        if (selected.length == 0) {
            $('#search-results').find('a').first().addClass('selected');
        } else {
            var next;
            if (event.which == 40) {
                next = selected.parent().next().find('a').first();
            } else {
                next = selected.parent().prev().find('a').first();
            }
            if (next.length != 0) {
                var resultbox = $('#search-results');
                var position = next.position();

//              TODO scrolling is buggy and jumps around
//                resultbox.scrollTop(Math.floor(position.top));
//                console.log(position.top);

                selected.removeClass('selected');
                next.addClass('selected');
            }
        }

        return;
    }
    $('#search-resultbox').show();
    $('#search-results').html('<li><span class="no-results">No results</span></li>');

    var result = jssearch.search(query);

    if (result.length > 0) {
        var i = 0;
        var resHtml = '';

        for (var key in result) {
            if (i++ > 20) {
                break;
            }
            resHtml = resHtml +
            '<li><a href="' + result[key].file.u.substr(3) +'"><span class="title">' + result[key].file.t + '</span>' +
            '<span class="description">' + result[key].file.d + '</span></a></li>';
        }
        $('#search-results').html(resHtml);
    }
});

// hide the search results on ESC
$(document).on("keyup", function(event) { if (event.which == 27) { $('#search-resultbox').hide(); } });
// hide search results on click to document
$(document).bind('click', function (e) { $('#search-resultbox').hide(); });
// except the following:
searchBox.bind('click', function(e) { e.stopPropagation(); });
$('#search-resultbox').bind('click', function(e) { e.stopPropagation(); });

});</script></body>
</html>
